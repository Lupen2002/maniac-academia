(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){},121:function(e,t,n){"use strict";n.r(t);n(66),n(67),n(92);var a=n(0),r=n.n(a),c=n(37),l=n.n(c),i=n(10),u=n.n(i),s=n(20),o=n(22),m=n(13),d=n(1),E=(n(118),n(119),n(27)),b=n(38),f=n.n(b),p=function(e){return new f.a({name:e,prefix:"",modifierDelimiter:"_",outputIsString:!1})},v=p("stub"),A=function(){return a.createElement("div",v(),a.createElement(E.a,Object.assign({},v("spinner"),{icon:"circle-notch",spin:!0,size:"4x"})))},g=function(e){var t=Object({NODE_ENV:"production",PUBLIC_URL:"/maniac-academia",REACT_APP_ADMIN_USER_ID:"10640580"});if("REACT_APP_ADMIN_USER_ID"in t){var n=t.REACT_APP_ADMIN_USER_ID;return!!e&&!!n&&e.id===parseInt(n)}return!1},C=(n(120),n(61)),_=n.n(C),I=n(39),P=n.n(I),O=function(e){var t=e.bem?e.bem("header-context-menu-icon","","Icon"):{};return a.createElement("span",t,a.createElement(E.a,{icon:e.icon}))},j=p("app-header"),k=function(e){var t=Object(a.useState)(!1),n=Object(m.a)(t,2),r=n[0],c=n[1];return a.createElement(a.Fragment,null,a.createElement(d.PanelHeader,null,e.isAdmin?a.createElement(d.PanelHeaderContent,{aside:a.createElement(_.a,null),onClick:function(){return c(!r)}},e.children):e.children),e.isAdmin&&a.createElement(d.HeaderContext,{opened:r,onClose:function(){}},a.createElement(d.List,null,a.createElement(d.Cell,{onClick:function(){return e.go("events-feed")},asideContent:"events-feed"===e.active?a.createElement(P.a,{fill:"var(--accent)"}):null,before:a.createElement(O,{bem:j,icon:"rss"})},"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),a.createElement(d.Cell,{onClick:function(){return e.go("events-admin")},before:a.createElement(O,{bem:j,icon:"user-cog"}),asideContent:"events-admin"===e.active?a.createElement(P.a,{fill:"var(--accent)"}):null},"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"))))},w=(p("event-flow"),function(e){return a.createElement(a.Fragment,null,a.createElement(d.Panel,{id:e.id,centered:!e.user},a.createElement(k,{active:e.id,isAdmin:g(e.user),go:e.go},"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),!e.user&&a.createElement(A,null),g(e.user)&&a.createElement(d.Group,null,a.createElement(d.Div,null,"Admin")),e.user&&!g(e.user)&&a.createElement(d.Group,null,a.createElement(d.Div,null,"User"))))}),D=n(62),R=n.n(D),S=(p("admin-main"),function(e){return e.user&&u.a.send("VKWebAppGetAuthToken",{app_id:7062331,scope:"groups,stats"}),u.a.subscribe("VKWebAppAccessTokenReceived",function(e){}),a.createElement(d.Panel,{id:e.id},a.createElement(k,{active:e.id,isAdmin:g(e.user),go:e.go},"\u0421\u043e\u0431\u044b\u0442\u0438\u044f-\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),a.createElement(d.Group,null,a.createElement(d.CellButton,{before:a.createElement(R.a,null)},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435")))}),T=n(63),V=n.n(T),h=n(64),U=n.n(h),x=function(e){return a.createElement(d.Tabbar,null,a.createElement(d.TabbarItem,{onClick:function(){return e.go("events")},selected:"events"===e.active,"data-story":"events",text:"\u0421\u043e\u0431\u044b\u0442\u0438\u044f"},a.createElement(V.a,null)),a.createElement(d.TabbarItem,{onClick:function(){return e.go("user")},selected:"user"===e.active,"data-story":"users",text:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"},a.createElement(U.a,null)))},G=function(e){var t=Object(a.useState)("events-feed"),n=Object(m.a)(t,2),r=n[0],c=n[1],l=Object(a.useState)("events"),i=Object(m.a)(l,2),s=i[0],o=i[1],E=Object(a.useState)(null),b=Object(m.a)(E,2),f=b[0],p=b[1],v=Object(a.useState)(null),A=Object(m.a)(v,2),g=(A[0],A[1]);return Object(a.useEffect)(function(){u.a.subscribe(function(e){switch(e.detail.type){case"VKWebAppGetUserInfoResult":p(e.detail.data);break;case"VKWebAppAccessTokenReceived":g(e.detail.data.access_tokean)}}),u.a.send("VKWebAppGetUserInfo",{})},[]),a.createElement(d.Epic,{activeStory:s,tabbar:a.createElement(x,{active:s,go:o})},a.createElement(d.View,{id:"events",activePanel:r},a.createElement(w,{id:"events-feed",user:f,go:c}),a.createElement(S,{id:"events-admin",user:f,go:c})),a.createElement(d.View,{id:"user",activePanel:"user-main"},a.createElement(d.Panel,{id:"user-main"},a.createElement(d.PanelHeader,null,"\u041a\u0430\u0431\u0438\u043d\u0435\u0442"))))};s.b.add(o.a,o.d,o.c,o.b),u.a.send("VKWebAppInit",{});var K=document.getElementById("root");K&&l.a.render(r.a.createElement(G,null),K)},65:function(e,t,n){e.exports=n(121)}},[[65,1,2]]]);
//# sourceMappingURL=main.ae539038.chunk.js.map